

We carete teerform a_Admin IAM user and we use that access key and password in local

aws configure


if u want access variable in terraform file. that time you use export

export AWS_ACCESS_KEY_ID=<access key>
export AWS_SCRETE_ACCESS_KEY=


now we create main.tf file for ec2.


terraform {
  required_version = ">= 1.5.0"

  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "6.27.0"
    }
  }
}

provider "aws" {
  region = "us-east-1"
}

resource "aws_instance" "example" {
  ami           = "ami-0ecb62995f68bb549" # Amazon Linux 2 AMI (HVM), SSD Volume Type
  instance_type = "t3.micro"

  tags = {
    Name = "ExampleInstance"
  }
}


we created ec2 but we want ip address 
so you can add output block

output ec2_instance_id {
  description = "The ID of the EC2 instance"
  value       = aws_instance.example.public_ip
}

if you want more instance
you can add count in resource block but now we want more than one public IP so we will use array.
in output block.


resource "aws_instance" "example" {
  count = 2
  ami           = "ami-0ecb62995f68bb549" # Amazon Linux 2 AMI (HVM), SSD Volume Type
  instance_type = "t3.micro"

  tags = {
    Name = "ExampleInstance"
  }
}

output ec2_instance_id {
  description = "The ID of the EC2 instance"
  value       = aws_instance.example[*].public_ip
}

